<!DOCTYPE html>
<html lang="zh-HK">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‹•æ¼« Hitster</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #111;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }

        .card {
            width: 350px;
            height: 500px;
            perspective: 1000px;
            cursor: pointer;
        }

        .inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .card.flipped .inner {
            transform: rotateY(180deg);
        }

        .side {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 20px;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .back {
            background: #1db954;
        }

        .front {
            background: #222;
            transform: rotateY(180deg);
        }

        .back .block {
            width: 300px;
            height: 352px;
            position: absolute;
            background-color: #1db954;
            top: 0;
            transition: opacity 0.1s;
            /* å¿«é€Ÿæ·¡å‡º */
            z-index: 5;
            pointer-events: none;

        }

        /* ç¿»è½‰æ™‚å¿«é€Ÿæ¶ˆå¤± */
        .card.flipped .back .block {
            opacity: 0;
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <h2>ğŸµ å‹•æ¼« Hitster</h2>

    <div class="card" onclick="flipCard()" id="card">
        <div class="inner">

            <!-- èƒŒé¢ -->
            <div class="side back" id="back">
                <h3>ğŸ§ è½æ­ŒçŒœå¹´ä»½</h3>
                <div id="spotifyEmbed"></div>
                <p>é»æ“Šå¡ç‰‡ç¿»é¢</p>
            </div>

            <!-- æ­£é¢ -->
            <div class="side front" id="front">
                <h3 id="trackName"></h3>
                <p id="artistName"></p>
                <h2 id="releaseYear"></h2>
            </div>

        </div>
    </div>

    <button onclick="newSong()">ğŸ² éš¨æ©Ÿä¸‹ä¸€é¦–</button>

    <script>
        let drawnList = [];
        const tracks = [
            {
                uri: "2NasEYCMz45B4see4iDqS0",
                name: "ãƒ‰ãƒ©ãˆã‚‚ã‚“ã®ã†ãŸ (OP)",
                anime: "ãƒ‰ãƒ©ãˆã‚‚ã‚“",
                date: "1979-01-01"
            },
            {
                uri: "2mMKWdXYz7vVelTbt69UJo",
                name: "æ„›ã‚’ã¨ã‚Šã‚‚ã©ã›!!",
                anime: "åŒ—æ–—ã®æ‹³",
                date: "1984-01-01"
            },
            {
                uri: "5CwhBU7eqQgkOVMnRNuzzT",
                name: "Get Wild",
                anime: "ã‚·ãƒ†ã‚£ãƒ¼ãƒãƒ³ã‚¿ãƒ¼",
                date: "1987-01-01"
            },
            {
                uri: "252lj7Oy8JzIKVECJX4gpi",
                name: "ãƒ ãƒ¼ãƒ³ãƒ©ã‚¤ãƒˆä¼èª¬",
                anime: "ç¾å°‘å¥³æˆ¦å£«ã‚»ãƒ¼ãƒ©ãƒ¼ãƒ ãƒ¼ãƒ³",
                date: "1992-01-01"
            },
            {
                uri: "23phSRwoMy48rwFpmuAP8q",
                name: "æ®‹é…·ãªå¤©ä½¿ã®ãƒ†ãƒ¼ã‚¼",
                anime: "æ–°ä¸–ç´€ã‚¨ãƒ´ã‚¡ãƒ³ã‚²ãƒªã‚ªãƒ³",
                date: "1995-01-01"
            },
            {
                uri: "2wN5DYZkj1EHlX2obTNBFj",
                name: "æª„! å¸å›½è¯æ’ƒå›£",
                anime: "ã‚µã‚¯ãƒ©å¤§æˆ¦",
                date: "1996-01-01"
            },
            {
                uri: "0IL7LGrnYObWYyYaJ3GzWr",
                name: "ãã°ã‹ã™",
                anime: "ã‚‹ã‚ã†ã«å‰£å¿ƒ -æ˜æ²»å‰£å®¢æµªæ¼«è­š-",
                date: "1996-01-01"
            },
            {
                uri: "2Yv0FavwiRO1mzaIThDAiM",
                name: "Bad Apple!!",
                anime: "æ±æ–¹å¹»æƒ³éƒ·",
                date: "1998-01-01"
            },
            {
                uri: "4A3G4Chh8DTJftwJEf5tOp",
                name: "Butter-Fly ï¼ˆãƒ‡ã‚¸ãƒ¢ãƒ³ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼å…¨è©±OPï¼‰",
                anime: "ãƒ‡ã‚¸ãƒ¢ãƒ³ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼",
                date: "1999-01-01"
            },
            {
                uri: "1PdWDLJNk040dkuXoLLE2F",
                name: "ã‚¦ã‚£ãƒ¼ã‚¢ãƒ¼!",
                anime: "ONE PIECE",
                date: "1999-01-01"
            },
            {
                uri: "17YUGZ488r8GzhbfclLQzq",
                name: "GO!!! (Naruto Opening 4)",
                anime: "NARUTO -ãƒŠãƒ«ãƒˆ-",
                date: "2002-01-01"
            },
            {
                uri: "7zty9mmmuqQsn8s4zDH4nk",
                name: "ãƒ¡ãƒªãƒƒã‚µ",
                anime: "é‹¼ã®éŒ¬é‡‘è¡“å¸«",
                date: "2003-01-01"
            },
            {
                uri: "1FqOxfA4ghGxSrpNrjGhVx",
                name: "ç³ã®ä¸­ã®è¿·å®®",
                anime: "ãƒ¤ãƒŸã¨å¸½å­ã¨æœ¬ã®æ—…äºº",
                date: "2004-01-01"
            },
            {
                uri: "7gaaMd98dW4ssle6fc1fBh",
                name: "é€†ã•ã¾ã®è¶",
                anime: "åœ°ç„å°‘å¥³",
                date: "2005-01-01"
            },
            {
                uri: "2JacUWw1kxN2lunFlCLrPe",
                name: "é³¥ã®è©©",
                anime: "AIR",
                date: "2005-01-01"
            },
            {
                uri: "4UVQnzCZX2Uw9hq4Ano1Ux",
                name: "ãƒãƒ¬æ™´ãƒ¬ãƒ¦ã‚«ã‚¤ - Ver.æ¶¼å®®ãƒãƒ«ãƒ’",
                anime: "æ¶¼å®®ãƒãƒ«ãƒ’ã®æ†‚é¬±",
                date: "2006-01-01"
            },
            {
                uri: "4YnXlBbFnMJf6qiO2LQMlU",
                name: "God knows...",
                anime: "æ¶¼å®®ãƒãƒ«ãƒ’ã®æ†‚é¬±",
                date: "2006-01-01"
            },
            {
                uri: "6bPPyigCphBBQ9781j6eKM",
                name: "COLORS",
                anime: "ã‚³ãƒ¼ãƒ‰ã‚®ã‚¢ã‚¹ åé€†ã®ãƒ«ãƒ«ãƒ¼ã‚·ãƒ¥",
                date: "2006-01-01"
            },
            {
                uri: "43FWf8KrIofEGueGabxPkK",
                name: "æ—…ã®é€”ä¸­ (ç‹¼ã¨é¦™è¾›æ–™)",
                anime: "ç‹¼ã¨é¦™è¾›æ–™",
                date: "2008-01-01"
            },
            {
                uri: "08hU4ic3BmXofI27o0vNCY",
                name: "only my railgun",
                anime: "ã¨ã‚ã‚‹ç§‘å­¦ã®è¶…é›»ç£ç ²",
                date: "2009-01-01"
            },
            {
                uri: "77LQNv3wdUvN5sXG9v5H9u",
                name: "Don't Say \"\"Lazy\"\" (From \"\"K-On!\"\")",
                anime: "ã‘ã„ãŠã‚“!",
                date: "2009-01-01"
            },
            {
                uri: "434YBNY61Y9sqBSp7OINBa",
                name: "å›ã®çŸ¥ã‚‰ãªã„ç‰©èª",
                anime: "åŒ–ç‰©èª",
                date: "2009-01-01"
            },
            {
                uri: "4jYQqcYSoYy8iAwB5DloJz",
                name: "My Soul Your Beats!",
                anime: "Angel Beats!",
                date: "2010-01-01"
            },
            {
                uri: "6SrKLkuqWyKxSxzvtRWvX5",
                name: "ã‚³ãƒã‚¯ãƒˆ",
                anime: "é­”æ³•å°‘å¥³ã¾ã©ã‹â˜†ãƒã‚®ã‚«",
                date: "2011-01-01"
            },
            {
                uri: "7Bh5pZWryHBwxh13y7QTrt",
                name: "secret base ã€œå›ãŒãã‚ŒãŸã‚‚ã®ã€œ",
                anime: "ã‚ã®æ—¥è¦‹ãŸèŠ±ã®åå‰ã‚’åƒ•é”ã¯ã¾ã çŸ¥ã‚‰ãªã„ã€‚",
                date: "2011-01-01"
            },
            {
                uri: "3VrY5AUgxJJsmw9HMP4w6W",
                name: "Magia",
                anime: "é­”æ³•å°‘å¥³ã¾ã©ã‹â˜†ãƒã‚®ã‚«",
                date: "2011-01-01"
            },
            {
                uri: "4keYzo4xwFG5XgfBlh9SUW",
                name: "Hacking To The Gate",
                anime: "STEINS;GATE",
                date: "2011-01-01"
            },
            {
                uri: "5UNdjFCgpr2czfhKrT1Tmw",
                name: "The Everlasting Guilty Crown",
                anime: "ã‚®ãƒ«ãƒ†ã‚£ã‚¯ãƒ©ã‚¦ãƒ³",
                date: "2011-01-01"
            },
            {
                uri: "38mUTswfszVFQ952r89AP8",
                name: "åƒæœ¬æ¡œ",
                anime: "åˆéŸ³ãƒŸã‚¯",
                date: "2012-01-01"
            },
            {
                uri: "3mScGCzxiXA9OaHdBeuk7O",
                name: "crossing field",
                anime: "ã‚½ãƒ¼ãƒ‰ã‚¢ãƒ¼ãƒˆãƒ»ã‚ªãƒ³ãƒ©ã‚¤ãƒ³",
                date: "2012-01-01"
            },
            {
                uri: "1xAjcHiQRXrrduJeoYRXLG",
                name: "Chase the world",
                anime: "ã‚¢ã‚¯ã‚»ãƒ«ãƒ»ãƒ¯ãƒ¼ãƒ«ãƒ‰",
                date: "2012-01-01"
            },
            {
                uri: "7CoXiUY4GvZqnKtM6oWvYT",
                name: "ãƒ‡ãƒ¼ãƒˆãƒ»ã‚¢ãƒ»ãƒ©ã‚¤ãƒ–",
                anime: "ãƒ‡ãƒ¼ãƒˆãƒ»ã‚¢ãƒ»ãƒ©ã‚¤ãƒ–",
                date: "2013-01-01"
            },
            {
                uri: "4WS4FgOG1fOZl1VuD5aeQX",
                name: "å›ãƒ¬!é›ªæœˆèŠ±",
                anime: "æ©Ÿå·§å°‘å¥³ã¯å‚·ã¤ã‹ãªã„",
                date: "2013-01-01"
            },
            {
                uri: "0F8psXXh2oxE5BGdkKaoIs",
                name: "ç´…è“®ã®å¼“çŸ¢",
                anime: "é€²æ’ƒã®å·¨äºº",
                date: "2013-01-01"
            },
            {
                uri: "18asIXvfX6RyEtdiGKpTF5",
                name: "THIS GAME",
                anime: "ãƒãƒ¼ã‚²ãƒ¼ãƒ ãƒ»ãƒãƒ¼ãƒ©ã‚¤ãƒ•",
                date: "2014-01-01"
            },
            {
                uri: "4lFGExZoEArB7jzulnWtfl",
                name: "Daydream cafÃ©",
                anime: "ã”æ³¨æ–‡ã¯ã†ã•ãã§ã™ã‹ï¼Ÿ",
                date: "2014-01-01"
            },
            {
                uri: "6uR92injo4PDzSrOPRFfHt",
                name: "ã‚·ãƒ¥ã‚¬ãƒ¼ã‚½ãƒ³ã‚°ã¨ãƒ“ã‚¿ãƒ¼ã‚¹ãƒ†ãƒƒãƒ—",
                anime: "è¡€ç•Œæˆ¦ç·š",
                date: "2015-01-01"
            },
            {
                uri: "0WjYHf18yTqGEQjLRHLNWp",
                name: "Redo",
                anime: "Re:ã‚¼ãƒ­ã‹ã‚‰å§‹ã‚ã‚‹ç•°ä¸–ç•Œç”Ÿæ´»",
                date: "2016-01-01"
            },
            {
                uri: "4AttA0ULabd5N5EBDw2jIO",
                name: "å‰å‰å‰ä¸–",
                anime: "å›ã®åã¯ã€‚",
                date: "2016-01-01"
            },
            {
                uri: "6avH20eR9SGNwV1H0vzHed",
                name: "ã‚ˆã†ã“ãã‚¸ãƒ£ãƒ‘ãƒªãƒ‘ãƒ¼ã‚¯ã¸",
                anime: "ã‘ã‚‚ã®ãƒ•ãƒ¬ãƒ³ã‚º",
                date: "2017-01-01"
            },
            {
                uri: "3pKGijaLa4b6Fq0zCniPuo",
                name: "One Last You (From \"\"Xenoblade Chronicles 2\"\") - Piano/Vocal Cover",
                anime: "ã‚¼ãƒãƒ–ãƒ¬ã‚¤ãƒ‰2",
                date: "2017-01-01"
            },
            {
                uri: "1n7h7TRGicLtXDZJcm8IGO",
                name: "ã‚³ãƒ¬ã‚«ãƒ©",
                anime: "ã‚Šã‚…ã†ãŠã†ã®ãŠã—ã”ã¨ï¼",
                date: "2018-01-01"
            },
            {
                uri: "18dWBsEdWdGA1MRPN95H1X",
                name: "FLARE",
                anime: "ã‚ã‚Šãµã‚ŒãŸè·æ¥­ã§ä¸–ç•Œæœ€å¼·",
                date: "2018-01-01"
            },
            {
                uri: "1hFsEbHxsfflhLEPCq5tzk",
                name: "ç´…è“®è¯",
                anime: "é¬¼æ»…ã®åˆƒ",
                date: "2019-01-01"
            },
            {
                uri: "06XQvnJb53SUYmlWIhUXUi",
                name: "æ€ªç‰©",
                anime: "BEASTARS",
                date: "2019-01-01"
            },
            {
                uri: "3r5h4WbAe3J4UtucnQwcD7",
                name: "CHAIN",
                anime: "ãƒ´ã‚£ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ—ãƒªã‚ºãƒ³",
                date: "2021-01-01"
            },
            {
                uri: "6iIUjQjRX0Wy6Ri179w9SP",
                name: "KEEP WEAVING YOUR SPIDER WAY",
                anime: "èœ˜è››ã§ã™ãŒã€ãªã«ã‹ï¼Ÿ",
                date: "2021-01-01"
            },
            {
                uri: "1ocxu4f7ZOjOcwAbqQ8l1T",
                name: "HIGHEST",
                anime: "é™°ã®å®ŸåŠ›è€…ã«ãªã‚ŠãŸãã¦ï¼",
                date: "2022-01-01"
            },
            {
                uri: "7xm0KJMfeaJQmQdDxAipiY",
                name: "ãƒã‚­ãƒã‚­ãƒãƒ³ãƒãƒ³",
                anime: "ãƒ‘ãƒªãƒ”å­”æ˜",
                date: "2022-01-01"
            },
            {
                uri: "7ovUcF5uHTBRzUpB6ZOmvt",
                name: "ã‚¢ã‚¤ãƒ‰ãƒ«",
                anime: "ã€æ¨ã—ã®å­ã€‘",
                date: "2023-01-01"
            }
        ];

        let current = null;

        function newSong() {
            const card = document.getElementById("card");

            // 1ï¸âƒ£ å¦‚æœå¡ç‰‡å·²ç¿»é¢ï¼Œå…ˆç¿»å›å»
            if (card.classList.contains("flipped")) {
                card.classList.remove("flipped");
            }
            setTimeout(() => {
                // éæ¿¾æ‰å·²æŠ½éçš„æ­Œæ›²
                const available = tracks.filter(track => !drawnList.includes(track.uri));

                if (available.length === 0) {
                    alert("æ‰€æœ‰æ­Œæ›²å·²æŠ½å®Œï¼Œé‡æ–°é–‹å§‹ï¼");
                    drawnList = [];
                    return newSong(); // é‡æ–°æŠ½
                }

                // éš¨æ©ŸæŠ½
                current = available[Math.floor(Math.random() * available.length)];

                // è¨˜éŒ„å·²æŠ½é
                drawnList.push(current.uri);


                document.getElementById("trackName").innerText = current.name;
                document.getElementById("artistName").innerText = current.anime;
                document.getElementById("releaseYear").innerText = current.date.substring(0, 4);

                document.getElementById("spotifyEmbed").innerHTML = `
    <iframe style="
        width:100%;
        height:352px;
        border-radius:12px;"
        src="https://open.spotify.com/embed/track/${current.uri}"
        frameborder="0"
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
    </iframe>
    <div class ="block"></div>
`;
            }, 800); // 0.8s =
        }

        function flipCard() {
            document.getElementById("card").classList.toggle("flipped");
        }

        newSong();

    </script>

</body>

</html>